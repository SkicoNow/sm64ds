<!DOCTYPE html>
<html>
	<head>
		<title>Attempt and Consistency Tracker</title>
		<style>
			body {
				font-family:arial;
			}
			div {
				border:2px solid black;
				position:static;
				width:275px;
			}
			#successCount, #failCount {
				font-size:32px;
				width:200px;
			}
		</style>
	</head>
	<body>
		<!--
		Rupa's program has these features that I haven't implemented yet:
		Undo button (I don't know how to make this)
		Redo button (I don't know how to make this)
		"Edit value" button (I could probably change the <div> tags for #successCount, #failCount, and #consistency to <input type="number"> to account for this)
		"Always on top" checkbox (I'm not sure how hard it would be to create this or if it would even be useful)
		-->
		<h1>Attempt and Consistency Tracker</h1>
		<p style="width:400px">You can switch between the Successes and Fails counters by pressing Tab and Shift + Tab, or you can just click on them. You can also increase and decrease their values by using the Up/Down arrow keys.</p>
		<span style="font-size:24px">Successes:</span>
		<br>
		<input type="number" id="successCount" value="0" min="0" style="background-color:#D0FFD0" onchange="success()">
		<br>
		<!-- <div style="background-color:#D0FFD0">
			<span id="successCount" style="font-size:32px"></span>
		</div> -->
		<span style="font-size:24px">Fails:</span>
		<br>
		<input type="number" id="failCount" value="0" min="0" style="background-color:#FFD0D0" onchange="fail()">
		<br>
		<!-- <div style="background-color:#FFD0D0">
			<span id="failCount" style="font-size:32px"></span>
		</div> -->
		<span style="font-size:24px;font-family:Arial">Consistency:</span>
		<div>
			<span id="consistency" style="font-size:32px"></span>
		</div>
		<br>
		<!--
		<input style="background-color:#D0FFD0" type="button" id="successButton" value="Success" onclick="success()">
		<input style="background-color:#FFD0D0" type="button" id="failButton" value="Fail" onclick="fail()">
		-->
		<input type="button" id="resetButton" value="Reset" onclick="resetResultsHTML()">
		<span>(or just refresh the page)</span>
		<p id="resetConfirm" style="display:none">Are you sure you want to reset your results?</p>
		<input style="display:none" type="button" id="resetYes" value="Yes" onclick="resetYes()">
		<input style="display:none" type="button" id="resetNo" value="No" onclick="resetNo()">
		<p>Created by SkicoNow, inspired by Rupa and <a href="https://www.twitch.tv/rupa5364" target="_blank">his Twitch streams</a></p>
		<p>Thanks to <a href="https://jisho.org/" target="_blank">jisho.org</a> and <a href="https://translate.google.com/" target="_blank">Google Translate</a> for helping me identify and translate the Japanese characters in Rupa's program</p>
		<script>
			var successCount = document.getElementById("successCount").value;
			var failCount = document.getElementById("failCount").value;
			var attemptCount = parseInt(successCount) + parseInt(failCount);
			var consistency = 0;
			updateScreen();
			function success()
			{
				// successCount++;
				successCount = document.getElementById("successCount").value;
				failCount = document.getElementById("failCount").value;
				attemptCount = parseInt(successCount) + parseInt(failCount);
				consistency = (successCount / attemptCount) * 100;
				updateScreen();
			}
			function fail()
			{
				// failCount++;
				successCount = document.getElementById("successCount").value;
				failCount = document.getElementById("failCount").value;
				attemptCount = parseInt(successCount) + parseInt(failCount);
				consistency = (successCount / attemptCount) * 100;
				updateScreen();
			}
			function resetResults()
			{
				if (confirm("Are you sure you want to reset your results?"))
				{
					successCount = 0;
					failCount = 0;
					attemptCount = 0;
					consistency = 0;
					updateScreen();
				}
			}
			function resetResultsHTML()
			{
				document.getElementById("successCount").setAttribute("disabled", "true");
				document.getElementById("failCount").setAttribute("disabled", "true");
				document.getElementById("resetButton").setAttribute("disabled", "true");
				document.getElementById("resetConfirm").setAttribute("style", "display:block");
				document.getElementById("resetYes").setAttribute("style", "display:inline");
				document.getElementById("resetNo").setAttribute("style", "display:inline");
			}
			function resetYes()
			{
				successCount = 0;
				failCount = 0;
				attemptCount = 0;
				consistency = 0;
				updateScreen();
				resetNo();
			}
			function resetNo()
			{
				document.getElementById("successCount").removeAttribute("disabled");
				document.getElementById("failCount").removeAttribute("disabled");
				document.getElementById("resetButton").removeAttribute("disabled");
				document.getElementById("resetConfirm").setAttribute("style", "display:none");
				document.getElementById("resetYes").setAttribute("style", "display:none");
				document.getElementById("resetNo").setAttribute("style", "display:none");
			}
			function updateScreen()
			{
				document.getElementById("successCount").value = successCount;
				document.getElementById("failCount").value = failCount;
				if (isNaN(consistency))
				{
					consistency = 0; // this prevents <span id="consistency"> from displaying "0/0 (NaN%)"
				}
				document.getElementById("consistency").innerHTML = successCount + "/" + attemptCount + " (" + consistency.toFixed(3) + "%)";
			}
		</script>
	</body>
</html>
